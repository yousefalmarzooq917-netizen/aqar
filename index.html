<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙƒØªØ¨ Ø­ÙŠ Ø§Ù„ÙØªØ­ Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore-compat.js"></script>
    <style>
        :root {
            --primary: #113f28; --secondary: #d4af37; --bg: #f4f6f9; --card-bg: #ffffff;
            --text: #333; --border: #e0e0e0; --shadow: rgba(0,0,0,0.08);
            --radius: 12px; --transition: 0.3s ease;
        }
        [data-theme="dark"] {
            --primary: #1a5c3a; --secondary: #f1c40f; --bg: #121212; --card-bg: #1e1e1e;
            --text: #e0e0e0; --border: #333; --shadow: rgba(0,0,0,0.4);
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body { font-family: 'Almarai', sans-serif; background-color: var(--bg); color: var(--text); transition: background-color var(--transition), color var(--transition); padding-bottom: 80px; }
        
        header { background: linear-gradient(135deg, var(--primary), #0a291a); color: white; padding: 40px 20px; position: relative; text-align: center; border-bottom: 4px solid var(--secondary); display: flex; flex-direction: column; align-items: center; justify-content: center; }
        
        .real-estate-logo { width: 100px; height: 100px; border-radius: 50%; border: 3px solid var(--secondary); background: white; margin-bottom: 15px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        .real-estate-logo svg { fill: var(--primary); width: 60px; height: 60px; }
        
        .top-nav { position: absolute; top: 20px; left: 20px; right: 20px; display: flex; justify-content: space-between; align-items: center; z-index: 100; pointer-events: none; }
        .top-nav-group { display: flex; gap: 10px; pointer-events: auto; }
        .nav-btn { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white; height: 40px; padding: 0 15px; border-radius: 8px; cursor: pointer; font-family: 'Almarai'; font-size: 14px; font-weight: bold; transition: var(--transition); display: flex; align-items: center; justify-content: center; gap: 5px; backdrop-filter: blur(5px); }
        .nav-btn:hover { background: var(--secondary); color: black; border-color: var(--secondary); }

        .container { width: 100%; max-width: 1200px; margin: 30px auto; padding: 0 20px; }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¹Ø§Ø¦Ù…Ø© */
        .floating-wa-container { position: fixed; bottom: 30px; right: 30px; display: flex; flex-direction: column; gap: 15px; z-index: 1000; }
        .floating-wa { width: 60px; height: 60px; background: #25d366; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4); text-decoration: none; transition: 0.2s; position: relative; }
        .floating-wa:hover { transform: scale(1.1); }
        .floating-wa::after { content: attr(data-label); position: absolute; right: 70px; background: rgba(0,0,0,0.8); color: white; font-size: 12px; padding: 5px 10px; border-radius: 6px; white-space: nowrap; opacity: 0; transition: 0.2s; pointer-events: none; }
        .floating-wa:hover::after { opacity: 1; }

        .modal-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 4000; align-items: center; justify-content: center; padding: 20px; backdrop-filter: blur(5px); }
        .modal-content { background: var(--card-bg); width: 100%; max-width: 800px; max-height: 90vh; border-radius: var(--radius); display: flex; flex-direction: column; position: relative; overflow: hidden; }
        .modal-header { padding: 20px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
        .modal-body { padding: 20px; overflow-y: auto; }

        .btn-whatsapp-group { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        .btn-wa-action { height: 50px; border-radius: 8px; text-decoration: none; color: white; font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 8px; background: #25d366; }
    </style>
</head>
<body data-theme="light">

    <div class="floating-wa-container">
        <a href="https://wa.me/966590100077" class="floating-wa" target="_blank" data-label="ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©">
            <svg viewBox="0 0 24 24" width="34" height="34" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
        </a>
        <a href="https://wa.me/966590002216" class="floating-wa" style="background: #34b7f1;" target="_blank" data-label="ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª">
            <svg viewBox="0 0 24 24" width="34" height="34" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
        </a>
    </div>

    <header>
        <div class="top-nav">
            <div class="top-nav-group">
                <button class="nav-btn" onclick="toggleTheme()">ğŸŒ™</button>
            </div>
            <div class="top-nav-group">
                <button class="nav-btn" onclick="showLogin()">ğŸ‘¤ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</button>
            </div>
        </div>
        <div class="real-estate-logo">
            <svg viewBox="0 0 24 24"><path d="M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3zm0 2.7l5 4.5V18h-2v-6H9v6H7v-7.8l5-4.5z"/></svg>
        </div>
        <h1>Ù…ÙƒØªØ¨ Ø­ÙŠ Ø§Ù„ÙØªØ­ Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØ©</h1>
        <p>Ø¹Ù‚Ø§Ø±Ø§ØªÙƒ Ø¨ÙŠÙ† Ø£ÙŠØ¯Ù Ø£Ù…ÙŠÙ†Ø©</p>
    </header>

    <div class="container">
        <div id="propertiesGrid" class="prop-grid grid-view">
            </div>
    </div>

    <div id="detailsModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="detTitle">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù‚Ø§Ø±</h3>
                <button onclick="closeDetails()" style="border:none; background:none; font-size:24px; cursor:pointer;">&times;</button>
            </div>
            <div class="modal-body" id="detailsContent">
                </div>
            <div style="padding: 20px; border-top: 1px solid #eee;">
                <p style="margin-bottom: 10px; font-weight: bold;">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±:</p>
                <div class="btn-whatsapp-group">
                    <a id="waLink1" href="https://wa.me/966590100077" target="_blank" class="btn-wa-action">ÙˆØ§ØªØ³Ø§Ø¨ (1)</a>
                    <a id="waLink2" href="https://wa.me/966590002216" target="_blank" class="btn-wa-action" style="background:#34b7f1;">ÙˆØ§ØªØ³Ø§Ø¨ (2)</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø«ÙŠÙ… ÙˆØ§Ù„ÙØªØ­ ÙˆØ§Ù„Ø¥ØºÙ„Ø§Ù‚
        function toggleTheme() {
            const body = document.body;
            const current = body.getAttribute('data-theme');
            body.setAttribute('data-theme', current === 'light' ? 'dark' : 'light');
        }

        function closeDetails() {
            document.getElementById('detailsModal').style.display = 'none';
        }

        // Ù…Ù„Ø§Ø­Ø¸Ø©: Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ ÙŠØ­ØªØ§Ø¬ Ù„Ø±Ø¨Ø· Firebase Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù„ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    </script>
</body>
</html>
